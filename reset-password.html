<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Reset your UC Online password to regain access to your account.">
    <title>Reset Password | UC Online Tech Bootcamps</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/header-nav.css">
    <link rel="stylesheet" href="css/auth.css">
    <script
      data-memberstack-app="app_cm6h5s1zu000u0svrh92jezvr"
      src="https://static.memberstack.com/scripts/v1/memberstack.js"
      type="text/javascript"
    >
    </script>
</head>
<body>
    <!-- Top Banner -->
    <div class="top-banner">
        <div class="container">
            <p>Limited places remaining in upcoming cohorts - Secure your place today</p>
        </div>
    </div>
    
    <!-- Header -->
    <header class="header" id="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="assets/uc-online-logo (1).svg" alt="University of Canterbury" />
                    </a>
                </div>
                
                <!-- Navigation Menu -->
                <nav class="header-nav">
                    <a href="data-science.html" class="nav-link">Data Science & AI</a>
                    <a href="cyber-security.html" class="nav-link">Cyber Security</a>
                    <a href="software-engineering.html" class="nav-link">Software Engineering</a>
                    <a href="events.html" class="nav-link">Events</a>
                    <a href="case-studies.html" class="nav-link">Success Stories</a>
                </nav>
                
                <div class="header-buttons">
                    <!-- Show for logged out users -->
                    <div data-ms-content="!members" class="auth-buttons">
                        <a href="login.html" class="cta-button">Sign In</a>
                        <a href="register.html" class="cta-button">Sign Up</a>
                    </div>
                    <!-- Show for logged in users -->
                    <div data-ms-content="members" class="member-menu">
                        <span class="member-welcome">Welcome, <span data-ms-member="firstName"></span></span>
                        <a href="#" data-ms-action="logout" class="cta-button secondary">Logout</a>
                    </div>
                </div>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="auth-main">
        <div class="auth-container">
            <div class="auth-header">
                <h1 class="auth-title">Reset Your Password</h1>
                <p class="auth-subtitle">Enter your email address and we'll send you a link to reset your password.</p>
            </div>

            <!-- Error Messages -->
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>

            <!-- Forgot Password Form -->
            <form class="auth-form" data-ms-form="forgot-password" id="forgotPasswordForm" novalidate>
                <div class="form-group">
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        class="form-input" 
                        data-ms-member="email" 
                        required 
                        placeholder="Email Address"
                        autocomplete="email"
                        aria-describedby="email-error"
                    >
                    <div id="email-error" class="field-error" role="alert"></div>
                </div>

                <button type="submit" class="auth-submit-btn" id="resetBtn">
                    <span data-ms-form="default">Send Reset Link</span>
                    <span data-ms-form="loading" style="display: none;">Sending...</span>
                </button>
            </form>

            <!-- Auth Footer -->
            <div class="auth-footer">
                <p>Remember your password? <a href="login.html">Sign in</a></p>
                <p>Don't have an account? <a href="register.html">Sign up</a></p>
            </div>
        </div>
    </main>

    <!-- Reset Password Form (with token) -->
    <main class="auth-main" id="resetPasswordSection" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <h1 class="auth-title">Create New Password</h1>
                <p class="auth-subtitle">Enter your new password below.</p>
            </div>

            <!-- Error Messages -->
            <div class="error-message" id="resetErrorMessage"></div>
            <div class="success-message" id="resetSuccessMessage"></div>

            <!-- Reset Password Form -->
            <form class="auth-form" data-ms-form="reset-password" id="resetPasswordForm" novalidate>
                <input type="hidden" id="resetToken" name="token" data-ms-member="token">
                
                <div class="form-group">
                    <input 
                        type="password" 
                        id="newPassword" 
                        name="newPassword" 
                        class="form-input" 
                        data-ms-member="newPassword" 
                        required 
                        placeholder="New Password"
                        autocomplete="new-password"
                        aria-describedby="newPassword-error"
                    >
                    <div id="newPassword-error" class="field-error" role="alert"></div>
                    <div class="password-requirements">
                        <p class="requirements-title">Password must contain:</p>
                        <ul class="requirements-list">
                            <li id="reset-length" class="requirement">At least 8 characters</li>
                            <li id="reset-lowercase" class="requirement">One lowercase letter</li>
                            <li id="reset-uppercase" class="requirement">One uppercase letter</li>
                            <li id="reset-number" class="requirement">One number</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <input 
                        type="password" 
                        id="confirmNewPassword" 
                        name="confirmNewPassword" 
                        class="form-input" 
                        required 
                        placeholder="Confirm New Password"
                        autocomplete="new-password"
                        aria-describedby="confirmNewPassword-error"
                    >
                    <div id="confirmNewPassword-error" class="field-error" role="alert"></div>
                </div>

                <button type="submit" class="auth-submit-btn" id="updatePasswordBtn">
                    <span data-ms-form="default">Update Password</span>
                    <span data-ms-form="loading" style="display: none;">Updating...</span>
                </button>
            </form>
        </div>
    </main>

    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/password-reset.js"></script>
</body>
</html>